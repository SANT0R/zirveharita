// Translations for the website
const translations = {
    'tr': {
        'nav_home': 'Ana Sayfa',
        'nav_about': 'Hakkımızda',
        'nav_services': 'Hizmetlerimiz',
        'nav_team': 'Ekibimiz',
        'nav_contact': 'İletişim',
        'hero_title': "Didim'in Güvenilir Harita Mühendisliği",
        'hero_subtitle': 'Arsa, parsel ve proje ihtiyaçlarınızda yanınızdayız. Teknik uzmanlık, şeffaf hizmet ve güvenilir çözümler.',
        'hero_button': 'İLETİŞİME GEÇİN',
        'hero_button_services': 'HİZMETLERİMİZ',
        'stat_satisfaction': 'Müşteri Memnuniyeti',
        'stat_support': 'Destek Hattı',
        'what_we_do_title': 'Sizin için neler yapabiliriz?',
        'what_we_do_intro': 'Bize ulaştığınızda ya da ofisimize geldiğinizde, önce sizi dinleriz. Arsanızın, parselinizin veya projenizin hangi aşamada olduğunu öğrenir, neye ihtiyaç duyduğunuzu birlikte netleştiririz.',
        'what_we_do_technical_title': 'Teknik olarak:',
        'what_we_do_technical_desc': 'Tapu, ada/parsel bilgileri, imar durumu, sınır tespiti, ölçüm, aplikasyon gibi tüm harita mühendisliği ihtiyaçlarınızı analiz ederiz.',
        'what_we_do_financial_title': 'Maddi olarak:',
        'what_we_do_financial_desc': 'İşin yaklaşık maliyetini, resmi harçları ve hizmet bedellerini şeffaf şekilde ortaya koyar, önceden bilgilendiririz.',
        'what_we_do_solution_title': 'Çözümsel olarak:',
        'what_we_do_solution_desc': 'İzlenecek yolu adım adım açıklarız, resmi süreçleri sizin adınıza takip ederiz.',
        'what_we_do_conclusion': 'Net bilgi, net yol, net sonuç.',
        'services_title': 'Hizmetlerimiz',
        'service_application_title': 'Aplikasyon',
        'service_application_desc': 'Taşınmaza ait mülkiyet, irtifak hakkı ve yolların sınırlarının, tescilli tapu planındaki bilgi ve belgelerine uygun olarak zeminde işaretlenmesi işlemidir.',
        'service_plankote_title': 'Plankote',
        'service_plankote_desc': 'Projelere altlık teşkil etmek amacıyla hazırlanan, arazinin topografik durumu ile birlikte tüm ölçekli ve koordinatlı detaylarını kapsayan haritalardır.',
        'service_building_detection_title': 'Bina Tespiti',
        'service_building_detection_desc': 'Yapı sahibinin "Yapı Kullanma İzin Belgesi" alabilmesi için, ilgili belediyeye dilekçe ile başvurması sonrası, binanın yatay ve düşey, balkon çıkma ve bahçe ölçülerinin alınması işlemidir.',
        'service_cubage_calculation_title': 'Kübaj Hesabı',
        'service_cubage_calculation_desc': 'Hafriyat veya dolgu işlemlerinde araziden çıkarılacak veya araziye gerekecek malzeme-maliyet hesabının plankote haritası vasıtasıyla yapılmasıdır.',
        'service_asbuilt_map_title': 'Halihazır Harita',
        'service_asbuilt_map_desc': 'Genellikle bölgede yapılacak imar planlarına altlık olarak üretilen; arazideki bina, yol, şev, kuyu, direk, duvar, tel örgü gibi detayların ölçülerek 1/1000, 1/2000 – 1/5000 ölçekte hazırlanan haritalardır.',
        'service_strip_map_title': 'Şeritvari Haritalar',
        'service_strip_map_desc': 'Yol, kanal, tünel, enerji nakil hatları, Demir yolu vs gibi projelere altlık oluşturması için yapılan; proje ekseninden sağa ve sola belirli bir alanın ölçüldüğü haritalardır.',
        'service_construction_surveying_title': 'İnşaat Ölçüm İşleri',
        'service_construction_surveying_desc': 'Yol, kanal, tünel, enerji nakil hatları, Demir yolu vs gibi projelere altlık oluşturması için yapılan; proje ekseninden sağa ve sola belirli bir alanın ölçüldüğü haritalardır.',
        'service_site_plan_title': 'Vaziyet Planı ve Bağımsız Bölüm Planı',
        'service_site_plan_desc': 'Parsellerde inşa edilecek yapıların Yapı Ruhsatına esas projeleri kat mülkiyet ve irtifakına esas konumlarını ve bağımsız bölümlerin konumlarını gösteren planlardır.',
        'service_subdivision_title': 'İfraz (Ayırma)',
        'service_subdivision_desc': 'Bir parselin imar mevzuatına uygun olarak bölünerek, birden fazla parsel oluşturulması işlemidir.',
        'service_consolidation_title': 'Tevhid (Birleştirme)',
        'service_consolidation_desc': 'Birden fazla birbirine bitişik parsellerin imar mevzuatına uygun olarak birleştirilmesidir.',
        'service_land_regulation_title': 'Arsa ve Arazi Düzenlemesi (Şuyulandırma)',
        'service_land_regulation_desc': 'Binalı veya binasız arsa ve arazilerin birbirleriyle, kamu kurum veya belediyelere ait yerlerle; birleştirme, ada/parsellere ayırma, hak sahiplerine dağıtma ve re’sen tescil işlemlerinin yaptırılması işlemidir.',
        'service_parceling_title': 'Parselasyon',
        'service_parceling_desc': 'İmar parsellerinin oluşturulduğu, parselasyon planı açıklama raporu, parselasyon paftaları ve tescile esas belgeleri içeren uygulama dosyası ile bir bütün olan plandır.',
        'service_expropriation_title': 'Kamulaştırma',
        'service_expropriation_desc': 'Kamu yararı için şahısa ait taşınmazların projeye göre yol, okul, hastane ve diğer kamunun ortak kullanım ihtiyacına hizmet verme işlemidir.',
        'service_consultancy_title': 'Danışmanlık',
        'service_consultancy_desc': 'Taşınmazlarınızla ilgili her türlü isteğinizde ve hassas ölçümler için destek alabilirsiniz.',
        'about_us_title': 'Biz Kimiz',
        'about_us_desc': 'Deneyimli ve yetenekli insan kaynakları ve ileri teknoloji ekipmanlar ile tüm projelerimizi; hızlı, estetik, doğru ve yüksek kalite standartlarında gerçekleştiriyoruz. Firmamız tüm projelerimizin gerçekleştirilmesinde önemli rol oynayarak, hizmet verdiği kurum ve kuruluşların takdirleriyle karşılanıp tercih edilmenin gururunu taşımaktadır.Zirve Harita İmar Planı Uygulaması (Şuyulandırma)Fabrika – Site – Kooperatif Yerleşim Haritaları ProjelendirmesiYol Projesi gibi birçok projeye imza atmaktadır.Hedefimiz, yeni teknolojileri bünyesine katarak, projelerimizi doğru, hızlı ve en ekonomik şekilde kalite standartlarınında üstünde hizmet verebilmenin sürekliliğini sağlayarak daha büyük projelere imza atmak olacaktır.',
        'services_video_title': 'Tanıtım Videosu',
        'mission_title': 'Misyonumuz',
        'mission_desc': 'Zirve Harita Mühendislik olarak misyonumuz; harita mühendisliği alanında teknik doğruluğu, güvenilirliği ve şeffaflığı esas alarak, müşterilerimize mevzuata uygun, hızlı ve sürdürülebilir çözümler sunmaktır. İmar uygulamaları, arazi yönetimi, inşaat öncesi zemin analizleri ve mühendislik hizmetlerinde, doğru veriye dayalı kararların alınmasına katkı sağlamak ve bölge halkına kaliteli hizmet sunmak temel önceliğimizdir. Didim ve çevresinde, harita mühendisliği alanında güvenilir bir çözüm ortağı olmak için çalışıyoruz.',
        'vision_title': 'Vizyonumuz',
        'vision_desc': 'Zirve Harita Mühendislik olarak vizyonumuz; harita mühendisliği alanında gelişen teknolojileri yakından takip ederek, sunduğumuz hizmetlerin kalitesini sürekli artırmak ve sektörde örnek gösterilen, öncü bir mühendislik firması olmaktır. Amacımız; Didim ve çevresinde arazi geliştirme, imar uygulamaları ve mühendislik projelerinde güvenilir bir başvuru noktası haline gelmek, aynı zamanda kamu ve özel sektörün ihtiyaç duyduğu teknik çözümleri zamanında ve doğru şekilde sunarak bölgesel kalkınmaya katkı sağlamaktır.',
        'team_title': 'Ekibimiz',
        'team_member1_position': 'Harita Mühendisi',
        'team_member1_university': 'Kocaeli Üniversitesi / 2021',
        'team_member2_position': 'Harita Mühendisi',
        'team_member2_university': 'Kocaeli Üniversitesi / 2022',
        'contact_title': 'İletişim',
        'contact_subtitle': 'Projeleriniz için bizimle iletişime geçin. Size en uygun çözümü birlikte bulalım.',
        'contact_phone_title': 'Telefon',
        'contact_phone_desc': 'Hemen arayın, ücretsiz danışmanlık alın',
        'contact_address_title': 'Adres',
        'contact_address_line1': 'Yeni mah. İnönü bulvarı, Gözüm apartmanı no:5 (Didim Belediyesi Karşısı)',
        'contact_address_line2': '09270 Didim/Aydın',
        'contact_hours_title': 'Çalışma Saatleri',
        'contact_hours_weekdays': 'Pazartesi - Pazar: 08:00 - 18:30',
        'contact_email_title': 'E-posta',
        'contact_email_desc': '7/24 e-posta ile ulaşabilirsiniz',
        'cta_title': 'Projeniz için hemen başlayalım!',
        'cta_description': 'Ücretsiz keşif ve danışmanlık için bugün arayın',
        'cta_button': 'HEMEN ARA',
        'footer_slogan': 'Ölçümüz net, yerimiz Zirve.',
        'footer_contact': 'İletişim',
        'footer_hours_title': 'Çalışma Saatleri',
        'footer_hours': 'Pazartesi - Pazar: 08:00 - 18:30',
        'footer_copyright': '© 2024 Zirve Harita. Tüm hakları saklıdır.'
    },
    'en': {
        'nav_home': 'Home',
        'nav_about': 'About Us',
        'nav_services': 'Services',
        'nav_team': 'Our Team',
        'nav_contact': 'Contact',
        'hero_title': "Didim's Reliable Surveying Engineering",
        'hero_subtitle': 'We are with you for your land, parcel and project needs. Technical expertise, transparent service and reliable solutions.',
        'hero_button': 'CONTACT US',
        'hero_button_services': 'OUR SERVICES',
        'stat_satisfaction': 'Customer Satisfaction',
        'stat_support': 'Support Line',
        'what_we_do_title': 'What can we do for you?',
        'what_we_do_intro': 'When you contact us or come to our office, we listen to you first. We learn what stage your land, parcel or project is at and clarify together what you need.',
        'what_we_do_technical_title': 'Technically:',
        'what_we_do_technical_desc': 'We analyze all your surveying engineering needs such as title deed, block/parcel information, zoning status, boundary detection, measurement, application.',
        'what_we_do_financial_title': 'Financially:',
        'what_we_do_financial_desc': 'We transparently present the approximate cost of the work, official fees and service charges, and inform you in advance.',
        'what_we_do_solution_title': 'Solution-wise:',
        'what_we_do_solution_desc': 'We explain the path to be followed step by step and follow the official processes on your behalf.',
        'what_we_do_conclusion': 'Clear information, clear path, clear result.',
        'services_title': 'Our Services',
        'service_application_title': 'Application',
        'service_application_desc': 'It is the process of marking the boundaries of property, servitude rights and roads on the ground in accordance with the information and documents in the registered title deed plan.',
        'service_plankote_title': 'Plankote',
        'service_plankote_desc': 'These are maps prepared to form a basis for projects, covering all scaled and coordinated details of the land along with its topographic condition.',
        'service_building_detection_title': 'Building Detection',
        'service_building_detection_desc': "It is the process of taking the horizontal and vertical, balcony projection and garden measurements of the building after the building owner applies to the relevant municipality with a petition to obtain a 'Building Occupancy Permit'.",
        'service_cubage_calculation_title': 'Cubage Calculation',
        'service_cubage_calculation_desc': 'It is the calculation of the material-cost to be extracted from or required for the land in excavation or filling operations by means of a planimetric map.',
        'service_asbuilt_map_title': 'As-Built Map',
        'service_asbuilt_map_desc': 'These are maps, generally produced as a basis for zoning plans to be made in the region, prepared on a scale of 1/1000, 1/2000 - 1/5000 by measuring details such as buildings, roads, slopes, wells, poles, walls, wire fences on the land.',
        'service_strip_map_title': 'Strip Maps',
        'service_strip_map_desc': 'These are maps made to form a basis for projects such as roads, canals, tunnels, energy transmission lines, railways, etc., where a certain area is measured to the right and left of the project axis.',
        'service_construction_surveying_title': 'Construction Surveying',
        'service_construction_surveying_desc': 'These are maps made to form a basis for projects such as roads, canals, tunnels, energy transmission lines, railways, etc., where a certain area is measured to the right and left of the project axis.',
        'service_site_plan_title': 'Site Plan and Independent Section Plan',
        'service_site_plan_desc': 'These are plans showing the locations of the buildings to be constructed on the parcels, which are the basis for the Building Permit projects, and the locations of the independent sections, which are the basis for condominium and servitude.',
        'service_subdivision_title': 'Subdivision',
        'service_subdivision_desc': 'It is the process of creating more than one parcel by dividing a parcel in accordance with the zoning legislation.',
        'service_consolidation_title': 'Consolidation',
        'service_consolidation_desc': 'It is the consolidation of more than one adjacent parcel in accordance with the zoning legislation.',
        'service_land_regulation_title': 'Land and Plot Regulation (Şuyulandırma)',
        'service_land_regulation_desc': 'It is the process of combining built or unbuilt plots and lands with each other, with places belonging to public institutions or municipalities; separating them into blocks/parcels, distributing them to the right holders and having them registered ex officio.',
        'service_parceling_title': 'Parceling',
        'service_parceling_desc': 'It is a plan that is a whole with the application file containing the parceling plan explanation report, parceling sheets and documents for registration, where zoning parcels are created.',
        'service_expropriation_title': 'Expropriation',
        'service_expropriation_desc': 'It is the process of serving the public interest by using private properties for roads, schools, hospitals and other common public use needs according to the project.',
        'service_consultancy_title': 'Consultancy',
        'service_consultancy_desc': 'You can get support for all your requests regarding your real estate and for precise measurements.',
        'about_us_title': 'Who We Are',
        'about_us_desc': 'We carry out all our projects with experienced and talented human resources and advanced technology equipment; fast, aesthetic, accurate and at high quality standards. Our company plays an important role in the realization of all our projects and is proud of being appreciated and preferred by the institutions and organizations it serves. Zirve Harita has undertaken many projects such as Zoning Plan Application (Şuyulandırma), Factory - Site - Cooperative Settlement Maps Projecting, Road Project. Our goal is to undertake larger projects by incorporating new technologies, providing our projects accurately, quickly and in the most economical way, and ensuring the continuity of service above quality standards.',
        'services_video_title': 'Promotional Video',
        'mission_title': 'Our Mission',
        'mission_desc': 'As Zirve Harita Mühendislik, our mission is to provide our customers with fast, sustainable and compliant solutions based on technical accuracy, reliability and transparency in the field of survey engineering. Our main priority is to contribute to making decisions based on accurate data in zoning applications, land management, pre-construction ground analysis and engineering services and to provide quality service to the local people. We are working to be a reliable solution partner in the field of survey engineering in Didim and its surroundings.',
        'vision_title': 'Our Vision',
        'vision_desc': 'As Zirve Harita Mühendislik, our vision is to continuously improve the quality of our services by closely following the developing technologies in the field of survey engineering and to become a leading and exemplary engineering company in the sector. Our goal is to become a reliable reference point for land development, zoning applications and engineering projects in Didim and its surroundings, and at the same time to contribute to regional development by providing the technical solutions needed by the public and private sectors in a timely and accurate manner.',
        'team_title': 'Our Team',
        'team_member1_position': 'Surveying Engineer',
        'team_member1_university': 'Kocaeli University / 2021',
        'team_member2_position': 'Surveying Engineer',
        'team_member2_university': 'Kocaeli University / 2022',
        'contact_title': 'Contact',
        'contact_subtitle': "Let's find the most suitable solution together.",
        'contact_phone_title': 'Phone',
        'contact_phone_desc': 'Call now, get free consultation',
        'contact_address_title': 'Address',
        'contact_address_line1': 'Yeni mah. İnönü boulevard, Gözüm apartment no:5 (Across Didim Municipality)',
        'contact_address_line2': '09270 Didim/Aydın',
        'contact_hours_title': 'Working Hours',
        'contact_hours_weekdays': 'Monday - Sunday: 08:00 - 18:30',
        'contact_email_title': 'E-mail',
        'contact_email_desc': 'You can reach us by e-mail 24/7',
        'cta_title': "Let's start for your project right away!",
        'cta_description': 'Call today for free survey and consultation',
        'cta_button': 'CALL NOW',
        'footer_slogan': 'Our measure is precise, our place is at the top.',
        'footer_contact': 'Contact',
        'footer_hours_title': 'Working Hours',
        'footer_hours': 'Monday - Sunday: 08:00 - 18:30',
        'footer_copyright': '© 2024 Zirve Harita. All rights reserved.'
    }
};

document.addEventListener('DOMContentLoaded', function() {
    
    // Default language
    let currentLanguage = 'tr';

    // Function to change the language
    function changeLanguage(lang) {
        currentLanguage = lang;
        updateContent();
        // Save language preference to localStorage
        localStorage.setItem('language', lang);
    }

    // Function to update content based on selected language
    function updateContent() {
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach(element => {
            const key = element.getAttribute('data-i18n');
            if (translations[currentLanguage] && translations[currentLanguage][key]) {
                element.innerHTML = translations[currentLanguage][key];
            }
        });
    }

    // Initialize language from localStorage or browser preference
    function initializeLanguage() {
        const savedLanguage = localStorage.getItem('language');
        if (savedLanguage && (savedLanguage === 'tr' || savedLanguage === 'en')) {
            currentLanguage = savedLanguage;
        } else {
            const browserLang = navigator.language || navigator.userLanguage;
            currentLanguage = browserLang.startsWith('en') ? 'en' : 'tr';
        }
        
        document.querySelectorAll('.language-switcher .lang-option').forEach(option => {
            option.classList.toggle('active', option.getAttribute('data-lang') === currentLanguage);
        });
        
        updateContent();
    }
    
    // Initialize language
    initializeLanguage();
    
    // Language switcher functionality
    document.querySelectorAll('.language-switcher .lang-option').forEach(option => {
        option.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            changeLanguage(lang);
            document.querySelectorAll('.language-switcher .lang-option').forEach(opt => opt.classList.remove('active'));
            this.classList.add('active');
        });
    });
    
    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
                const headerHeight = document.querySelector('.header').offsetHeight;
                const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - headerHeight;
                window.scrollTo({ top: targetPosition, behavior: 'smooth' });
            }
        });
    });
    
    // Header scroll effect
    const header = document.querySelector('.header');
    window.addEventListener('scroll', function() {
        header.classList.toggle('scrolled', window.scrollY > 50);
    });

    // Stats Counter Animation
    const statsSection = document.querySelector('.stats');
    const statNumbers = document.querySelectorAll('.stat-number');
    let hasAnimated = false;

    const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
            if (entry.isIntersecting && !hasAnimated) {
                hasAnimated = true;
                statNumbers.forEach(counter => {
                    const targetText = counter.textContent;
                    if (targetText.includes('/')) return; // "24/7" gibi metinleri atla
                    
                    const target = +targetText.replace(/\D/g, ''); // Sadece rakamları al
                    counter.innerText = '0';

                    const updateCounter = () => {
                        const c = +counter.innerText;
                        const increment = target / 200; // Animasyon hızı

                        if (c < target) {
                            counter.innerText = Math.ceil(c + increment);
                            setTimeout(updateCounter, 1);
                        } else {
                            counter.innerText = targetText;
                        }
                    };
                    updateCounter();
                });
                observer.unobserve(statsSection);
            }
        });
    }, { threshold: 0.5 });

    if(statsSection) {
        observer.observe(statsSection);
    }
});